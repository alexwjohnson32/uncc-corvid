Bootstrap: docker
From: ubuntu:noble

%labels
    Author Ehab Shoubaki
    Version 1.0
    Description Ubuntu Noble Apptainer Image

%environment
    export PATH=/usr/local/bin:/usr/bin:/bin
    export PATH=/usr/local/gridlabd/bin:$PATH
    export LANG=C.UTF-8
    export LC_ALL=C.UTF-8
    export OMPI_ALLOW_RUN_AS_ROOT=1
    export OMPI_ALLOW_RUN_AS_ROOT_CONFIRM=1
    export PETSC_DIR=/usr/local/petsc-3.16.4
    export LD_LIBRARY_PATH=/usr/local/petsc-3.16.4/lib


%post
    export DEBIAN_FRONTEND=noninteractive
    echo "Installing basic packages..."
    apt-get update && apt-get install -y --fix-missing \
        build-essential cmake git \
        emacs libzmq5 pip python3.12-venv\
        libzmq5-dev libboost-all-dev swig

